package generate

import "strings"

const GeneratedFilename = "generated_by_gunit_test.go"

//////////////////////////////////////////////////////////////////////////////

var rawSkippedFixture = strings.TrimSpace(`
{{range .TestCases}}
func Test{{.StructName}}_{{.Name}}(t *testing.T) {
	t.SkipNow()
}
{{end}}
`)

//////////////////////////////////////////////////////////////////////////////

var rawTestFunction = strings.TrimSpace(`
{{range .TestCases}}
func Test{{$.StructName}}_{{.Name}}(t *testing.T) { {{if $.Skipped}}
	t.SkipNow()
	{{end}}{{if .LongRunning}}
	if testing.Short() {
		t.Skip("Skipping long-running test case.")
	}{{end}}
	fixture := gunit.NewFixture(t, os.Stdout, testing.Verbose())
	test := &{{$.StructName}}{Fixture: fixture}{{if $.TestTeardownName}}
	defer test.{{$.TestTeardownName}}(){{end}}{{if $.TestSetupName}}
	test.{{$.TestSetupName}}(){{end}}
	test.{{.Name}}()
}
{{end}}
`)

//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////

const header = `//////////////////////////////////////////////////////////////////////////////
// Generated Code ////////////////////////////////////////////////////////////
//////////////////////////////////////////////////////////////////////////////

package %s

import (
	"os"
	"testing"

	"github.com/smartystreets/gunit"
)
`

const footer = `

func init() {
	gunit.Validate("%s")
}

///////////////////////////////////////////////////////////////////////////////
///////////////////////////////////////////////////////////// Generated Code //
///////////////////////////////////////////////////////////////////////////////
`

//////////////////////////////////////////////////////////////////////////////
